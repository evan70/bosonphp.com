parameters:
  env(TEST_FAKER_LOCALE): 'en_US'

  test.faker.locale: '%env(TEST_FAKER_LOCALE)%'

when@dev: &dev
  services:
    _defaults:
      autowire: true
      autoconfigure: true

    App\Infrastructure\Persistence\Doctrine\Fixture\:
      resource: '%kernel.project_dir%/app/Infrastructure/Persistence/Doctrine/Fixture'
      tags: ['doctrine.fixture.odm']

    Faker\Generator:
      factory: ['Faker\Factory', 'create']
      arguments:
        $locale: '%test.faker.locale%'

when@test: *dev
